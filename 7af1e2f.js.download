/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{731:function(e,n,t){"use strict";t.d(n,"a",(function(){return j})),t.d(n,"b",(function(){return B}));var r=t(717);t(722);function o(){var e,n={},t=[],r=[],o=[],l=function(e,t){null!=t&&""!==t&&(n[e]=t)};return{add:l,addDict:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l(n,e[n])},addJson:function(e,n,o){if(o&&c(o)){var l={keyIfEncoded:e,keyIfNotEncoded:n,json:o};r.push(l),t.push(l)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return n},getJson:function(){return t},withJsonProcessor:function(n){e=n},build:function(){return null==e||e(this,r,o),n}}}function c(e){if(!l(e))return!1;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;return!1}function l(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var d,label="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(d||(d={}));var f=function(e){void 0===e&&(e=d.warn);return{setLogLevel:function(n){e=d[n]?n:d.warn},warn:function(n,t){for(var o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];if(e>=d.warn&&"undefined"!=typeof console){var l=label+n;t?console.warn.apply(console,Object(r.b)([l+"\n",t],o,!1)):console.warn.apply(console,Object(r.b)([l],o,!1))}},error:function(n,t){for(var o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];if(e>=d.error&&"undefined"!=typeof console){var l=label+n+"\n";t?console.error.apply(console,Object(r.b)([l+"\n",t],o,!1)):console.error.apply(console,Object(r.b)([l],o,!1))}},debug:function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];e>=d.debug&&"undefined"!=typeof console&&console.debug.apply(console,Object(r.b)([label+n],t,!1))},info:function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];e>=d.info&&"undefined"!=typeof console&&console.info.apply(console,Object(r.b)([label+n],t,!1))}}}();function E(e){var n=e.event,t=n.schema,data=n.data,r=o(),c={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:t,data:data}};return r.add("e","ue"),r.addJson("ue_px","ue_pr",c),r}t(736);function v(e,n){for(var t=[],r=0,o=e;r<o.length;r++){var c=o[r];n.hasOwnProperty(c)?t.push(n[c]):f.warn(c+" not configured")}return t}function y(e,n,t){var r=A(e);return r[n]=t,"".concat(e,"?").concat(function(e){var n="";return Object.keys(e).forEach((function(p){n+="".concat(p,"=").concat(e[p],"&")})),n.slice(0,-1)}(r))}function A(e){var n={},t=e.split("?")[1];return t?(t.split("&").forEach((function(p){var param=p.split("=");n[param[0]]=param[1]})),n):n}var m,T="https://www.youtube.com/iframe_api";!function(e){e.ONSTATECHANGE="onStateChange",e.ONPLAYBACKQUALITYCHANGE="onPlaybackQualityChange",e.ONERROR="onError",e.ONAPICHANGE="onApiChange",e.ONPLAYBACKRATECHANGE="onPlaybackRateChange"}(m||(m={}));var P,O={"-1":"unstarted",0:"ended",1:"play",2:"pause",3:"buffering",5:"cued"},N={playbackratechange:m.ONPLAYBACKRATECHANGE,playbackqualitychange:m.ONPLAYBACKQUALITYCHANGE,error:m.ONERROR,apichange:m.ONAPICHANGE};Object.keys(O).forEach((function(e){return N[O[e]]=m.ONSTATECHANGE})),function(e){e.UNSTARTED="unstarted",e.ENDED="ended",e.PLAYING="play",e.PAUSED="pause",e.BUFFERING="buffering",e.CUED="cued"}(P||(P={}));var R,h,C={2:"INVALID_PARAMETER",5:"HTML5_PLAYER_ERROR",100:"NOT_FOUND",101:"EMBED_DISALLOWED",150:"EMBED_DISALLOWED"};function I(e,n,t,r){var data={type:n};return t.hasOwnProperty("label")&&(data.label=t.label),{schema:"iglu:com.snowplowanalytics.snowplow/media_player_event/jsonschema/1-0-0",data:data,context:[S(e,t.urlParameters,r),k(n,e,t.urlParameters,r)]}}function S(e,n,t){var o,c=e.getSphericalProperties(),l=((o={})[YT.PlayerState.BUFFERING]=!1,o[YT.PlayerState.CUED]=!1,o[YT.PlayerState.UNSTARTED]=!1,o),d=e.getPlayerState();d in l&&(l[d]=!0);var data={autoPlay:"1"===n.autoplay,avaliablePlaybackRates:e.getAvailablePlaybackRates(),avaliableQualityLevels:e.getAvailableQualityLevels(),buffering:l[YT.PlayerState.BUFFERING],controls:"0"!==n.controls,cued:l[YT.PlayerState.CUED],loaded:parseInt(String(100*e.getVideoLoadedFraction())),playbackQuality:e.getPlaybackQuality(),playerId:e.getIframe().id,unstarted:l[YT.PlayerState.UNSTARTED],url:e.getVideoUrl()};c&&(data=Object(r.a)(Object(r.a)({},data),c)),(null==t?void 0:t.error)&&(data.error=t.error);var f=e.getPlaylistIndex();-1!==f&&(data.playlistIndex=f);var E=e.getPlaylist();return E&&(data.playlist=E.map((function(e){return parseInt(e)}))),{schema:"iglu:com.youtube/youtube/jsonschema/1-0-0",data:data}}function k(e,n,t,r){var o,c=((o={})[YT.PlayerState.ENDED]=!1,o[YT.PlayerState.PAUSED]=!1,o),l=n.getPlayerState();l in c&&(c[l]=!0);var data={currentTime:n.getCurrentTime(),duration:n.getDuration(),ended:c[YT.PlayerState.ENDED],loop:"1"===t.loop,muted:n.isMuted(),paused:c[YT.PlayerState.PAUSED],playbackRate:n.getPlaybackRate(),volume:Math.round(n.getVolume())};return e===R.PERCENTPROGRESS&&(data.percentProgress=r.percentThrough),{schema:"iglu:com.snowplowanalytics.snowplow/media_player/jsonschema/1-0-0",data:data}}!function(e){e.PERCENTPROGRESS="percentprogress",e.SEEK="seek",e.VOLUMECHANGE="volumechange"}(R||(R={})),function(e){e.STATECHANGE="statechange",e.PLAYBACKQUALITYCHANGE="playbackqualitychange",e.ERROR="error",e.APICHANGE="apichange",e.PLAYBACKRATECHANGE="playbackratechange",e.READY="ready"}(h||(h={})),P.BUFFERING,P.CUED,P.ENDED,P.PAUSED,P.PLAYING,P.UNSTARTED;var Y=Object(r.b)(Object(r.b)(Object(r.b)([],Object.keys(h).map((function(e){return h[e]})),!0),Object.keys(R).map((function(e){return R[e]})),!0),Object.keys(P).map((function(e){return P[e]})),!0),w=[h.READY,P.PAUSED,P.PLAYING,P.ENDED,R.SEEK,R.VOLUMECHANGE,h.PLAYBACKQUALITYCHANGE,h.PLAYBACKRATECHANGE,R.PERCENTPROGRESS],G={AllEvents:Y,DefaultEvents:w},D={},L={},U=[];function j(){return{activateBrowserPlugin:function(e){D[e.id]=e}}}function H(e,n){void 0===n&&(n=Object.keys(D)),function(e,n,t){try{v(null!=e?e:Object.keys(n),n).forEach(t)}catch(e){f.error("Function failed",e)}}(n,D,(function(n){n.core.track(E({event:e}),e.context,e.timestamp)}))}function B(e){if(Object.keys(D).length){var n=function(e,n){var t="string"==typeof e?void 0:e,r={mediaId:"string"==typeof e?e:e.getIframe().id,player:t,captureEvents:(null==n?void 0:n.captureEvents)||w,youtubeEvents:[],updateRate:(null==n?void 0:n.updateRate)||500};(null==n?void 0:n.label)&&(r.label=n.label);for(var o=[],c=0,l=r.captureEvents;c<l.length;c++){var d=l[c];G.hasOwnProperty(d)?o=o.concat(G[d]):-1===Y.indexOf(d)?f.warn("'".concat(d,"' is not a valid event")):o.push(d)}r.captureEvents=o;for(var E=0,v=r.captureEvents;E<v.length;E++)d=v[E],N.hasOwnProperty(d)&&-1===r.youtubeEvents.indexOf(N[d])&&r.youtubeEvents.push(N[d]);return-1!==r.captureEvents.indexOf(R.PERCENTPROGRESS)&&(r.progress={boundaries:(null==n?void 0:n.boundaries)||[10,25,50,75],boundaryTimeoutIds:[]},-1===r.youtubeEvents.indexOf(m.ONSTATECHANGE)&&r.youtubeEvents.push(m.ONSTATECHANGE)),r}(e.id,e.options);if("string"!=typeof e.id)return n.urlParameters=A(e.id.getIframe().src),void function(e){var n,t;if(L[e.mediaId]={player:e.player,conf:e,seekTracking:{prevTime:(null===(n=e.player)||void 0===n?void 0:n.getCurrentTime())||0,enabled:!1},volumeTracking:{prevVolume:(null===(t=e.player)||void 0===t?void 0:t.getVolume())||0,enabled:!1}},-1!==e.captureEvents.indexOf(h.READY)){H(I(e.player,"ready",e))}_(e.player,e)}(n);var t=document.getElementById(e.id);t?(-1===t.src.indexOf("enablejsapi")&&(t.src=y(t.src,"enablejsapi","1")),n.urlParameters=A(t.src),"undefined"!=typeof YT&&void 0!==YT.Player?V(n):(U.push(n),K())):f.error("Cannot find YouTube iframe")}else f.error("Check YoutubeTrackingPlugin is initialized in tracker config")}var x=100;function K(e){if(!Array.prototype.slice.call(document.getElementsByTagName("script")).some((function(s){return s.src===T}))){var n=document.createElement("script");n.src=T;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}if("undefined"==typeof YT||void 0===YT.Player)x<=6400?(setTimeout((function(){K()}),x),x*=2):f.error("YouTube iframe API failed to load");else for(;U.length;)V(U.pop())}function V(e){L[e.mediaId]={player:new YT.Player(e.mediaId,{events:{onReady:function(n){return function(e,n){var t=e.target;_(t,n),-1!==n.captureEvents.indexOf(h.READY)&&F(t,h.READY,n)}(n,e)}}}),conf:e,seekTracking:{prevTime:0,enabled:!1},volumeTracking:{prevVolume:0,enabled:!1}}}function _(e,n){var t,r=((t={})[m.ONSTATECHANGE]=function(t){var r=-1!==n.captureEvents.indexOf(O[t.data.toString()]);-1!==n.captureEvents.indexOf(R.PERCENTPROGRESS)&&(r||M(e,O[t.data],n)),r&&F(L[n.mediaId].player,O[t.data],n)},t[m.ONPLAYBACKQUALITYCHANGE]=function(){return F(L[n.mediaId].player,h.PLAYBACKQUALITYCHANGE,n)},t[m.ONAPICHANGE]=function(){return F(L[n.mediaId].player,h.APICHANGE,n)},t[m.ONERROR]=function(e){return F(L[n.mediaId].player,h.ERROR,n,{error:C[e.data]})},t[m.ONPLAYBACKRATECHANGE]=function(){return F(L[n.mediaId].player,h.PLAYBACKRATECHANGE,n)},t);n.youtubeEvents.forEach((function(n){e.addEventListener(n,(function(e){return r[n](e)}))}))}function F(e,n,t,r){var o=L[t.mediaId];o.seekTracking.enabled||-1===t.captureEvents.indexOf(R.SEEK)||function(e,n,t){L[n.mediaId].seekTracking.enabled=!0,setInterval((function(){return function(e,n,t){var r=L[n.mediaId],o=e.getCurrentTime();Math.abs(o-(r.seekTracking.prevTime+.5))>1&&F(e,R.SEEK,n,t);r.seekTracking.prevTime=o}(e,n,t)}),n.updateRate)}(e,t,r),o.volumeTracking.enabled||-1===t.captureEvents.indexOf(R.VOLUMECHANGE)||function(e,n,t){L[n.mediaId].volumeTracking.enabled=!0,L[n.mediaId].volumeTracking.prevVolume=e.getVolume(),setInterval((function(){return function(e,n,t){var r=L[n.mediaId].volumeTracking,o=e.getVolume();o!==r.prevVolume&&F(e,R.VOLUMECHANGE,n,t);r.prevVolume=o}(e,n,t)}),n.updateRate)}(e,t,r),-1!==t.captureEvents.indexOf(R.PERCENTPROGRESS)&&M(e,n,t),H(I(e,n,t,r))}function M(e,n,t){var r=t.progress.boundaryTimeoutIds;n===P.PAUSED&&(r.forEach((function(e){return clearTimeout(e)})),r.length=0),n===P.PLAYING&&function(e,n){var t;null===(t=n.progress)||void 0===t||t.boundaries.forEach((function(t){var r=e.getDuration()*(t/100)*1e3,o=r-1e3*e.getCurrentTime();0<o&&n.progress.boundaryTimeoutIds.push(setTimeout((function(){return Q(e,n,r,t)}),o))}))}(e,t)}function Q(e,n,t,p){1e3*e.getCurrentTime()<t?setTimeout((function(){return Q(e,n,t,p)}),10):F(e,R.PERCENTPROGRESS,n,{percentThrough:p})}}}]);